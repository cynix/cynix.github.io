---
title: scrypt
layout: page
---

<div class="columns">
  <div class="column col-9 col-sm-12">
    <form class="form-horizontal">
      <div class="form-group">
        <div class="column col-3 col-sm-12"><label class="form-label text-right" for="password">Password</label></div>
        <div class="column col-9 col-sm-12"><input class="form-input" id="password" name="password" type="password" size="64"></div>
      </div>
      <div class="form-group">
        <div class="column col-3 col-sm-12"><label class="form-label text-right" for="salt">Salt</label></div>
        <div class="column col-9 col-sm-12"><input class="form-input" id="salt" name="salt" type="text" size="64"></div>
      </div>
      <div class="form-group">
        <div class="column col-3 col-sm-12"><label class="form-label text-right" for="logN">logN</label></div>
        <div class="column col-9 col-sm-12">
          <input class="form-input" id="logN" name="logN" type="number" pattern="[1-9][0-9]*" value="17" size="4" oninput="updateN();">
          <span class="form-input-hint" id="N"></span>
        </div>
      </div>
      <div class="form-group">
        <div class="column col-3 col-sm-12"><label class="form-label text-right" for="r">r</label></div>
        <div class="column col-9 col-sm-12"><input class="form-input" id="r" name="r" type="number" pattern="[1-9][0-9]*" value="8" size="4"></div>
      </div>
      <div class="form-group">
        <div class="column col-3 col-sm-12"><label class="form-label text-right" for="p">p</label></div>
        <div class="column col-9 col-sm-12"><input class="form-input" id="p" name="p" type="number" pattern="[1-9][0-9]*" value="1" size="4"></div>
      </div>
      <div class="form-group">
        <div class="column col-3 col-sm-12"><label class="form-label text-right" for="l">Key length</label></div>
        <div class="column col-9 col-sm-12"><input class="form-input" id="l" name="l" type="number" pattern="[1-9][0-9]*" value="32" size="4"></div>
      </div>
      <div class="form-group">
        <div class="column col-3 col-sm-12"></div>
        <div class="column col-9 col-sm-12"><button class="btn btn-primary" id="go" type="button" onclick="calculate();">Calculate</button></div>
      </div>
      <div class="form-group">
        <div class="column col-3 col-sm-12"><label class="form-label text-right" for="result">Result</label></div>
        <div class="column col-9 col-sm-12"><code class="form-input" id="result"></code></div>
      </div>
    </form>
  </div>
</div>

<style>
@media(max-width: 600px) {
  .form-label.text-right {
    text-align: left;
  }
}
</style>

<script
  src="https://cdn.jsdelivr.net/gh/dchest/scrypt-async-js@2.0.1/scrypt-async.min.js"
  integrity="sha384-mQ5A7fMeEoh38fIJmGo183+NNFqbpMAqijoTIdl+0dxRHABK/xgyDOxzjep+lwwb"
  crossorigin="anonymous">
</script>

<script>
  var f = document.forms[0];

  function updateN() {
    document.querySelector('#N').innerText = 'N = ' + Math.pow(2, f.logN.value);
  }

  function calculate() {
    var button = document.querySelector('#go');
    var result = document.querySelector('#result');

    button.disabled = true;
    button.classList.add("loading");

    window.setTimeout(function() {
      try {
        scrypt(f.password.value, f.salt.value, {
          logN: f.logN.value,
          r: f.r.value,
          p: f.p.value,
          dkLen: f.l.value,
          interruptStep: 1000,
          encoding: 'base64'
        }, function(res) {
          result.innerText = res;
          button.classList.remove("loading");
          button.disabled = false;
        });
      } catch(ex) {
        result.innerText = 'Error: ' + ex.message;
        button.classList.remove("loading");
        button.disabled = false;
      }
    });
  }

  updateN();
</script>
